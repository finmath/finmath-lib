<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/markdown/migration/3.6.x-to-4.0.1.md at 2021-12-31
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <title>finmath lib &#x2013; Migrating a project referencing finmath-lib from 3.6.3 to 4.0.5 (or higher).</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.9.min.js"></script>
  </head>
  <body class="topBarEnabled">
    <header id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
        <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
            <ul class="nav">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">finmath lib <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="../index.html" title="Introduction">Introduction</a></li>
            <li><a href="../apidocs" title="API Documentation">API Documentation</a></li>
            <li><a href="../gettingstarted.html" title="Getting Started">Getting Started</a></li>
            <li class="dropdown-submenu">
<a href="../building.html" title="Building from Source">Building from Source</a>
              <ul class="dropdown-menu">
                  <li><a href="../maven.html" title="Maven Build">Maven Build</a></li>
                  <li><a href="../eclipseproject.html" title="Eclipse Project">Eclipse Project</a></li>
              </ul>
            </li>
            <li><a href="https://github.com/finmath/finmath-lib/releases" title="Releases">Releases</a></li>
            <li><a href="../releasenotes.html" title="Release Notes">Release Notes</a></li>
            <li><a href="../codingconventions.html" title="Coding Conventions">Coding Conventions</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Concepts <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="../concepts/stochasticautomaticdifferentiation" title="Stochastic Automatic Differentiation">Stochastic Automatic Differentiation</a></li>
            <li><a href="../concepts/automatictrackingofmeasurability" title="Automatic Tracking of Measurability">Automatic Tracking of Measurability</a></li>
            <li class="dropdown-submenu">
<a href="../concepts/separationofproductandmodel" title="Separation of Product and Model and Numerical Method">Separation of Product and Model and Numerical Method</a>
              <ul class="dropdown-menu">
                  <li><a href="../concepts/separationofproductandmodel/modelandproductinterfaces.html" title="Model and Product Interfaces">Model and Product Interfaces</a></li>
                  <li><a href="../concepts/separationofproductandmodel/modelandproductdescriptors.html" title="Model and Product Descriptors">Model and Product Descriptors</a></li>
              </ul>
            </li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Usages <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="../../finmath-experiments" title="Experiments">Experiments</a></li>
            <li><a href="../../finmath-spreadsheets/" title="Spreadsheets">Spreadsheets</a></li>
            <li><a href="../../topics/" title="Special Topics">Special Topics</a></li>
            <li><a href="http://christian-fries.de/finmath/applets/" title="Applets">Applets</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="dropdown-submenu">
<a href="../project-info.html" title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                  <li><a href="../summary.html" title="Summary">Summary</a></li>
                  <li><a href="../scm.html" title="Source Code Management">Source Code Management</a></li>
                  <li><a href="../distribution-management.html" title="Distribution Management">Distribution Management</a></li>
                  <li><a href="../dependency-info.html" title="Dependency Information">Dependency Information</a></li>
                  <li><a href="../dependencies.html" title="Dependencies">Dependencies</a></li>
                  <li><a href="../issue-management.html" title="Issue Management">Issue Management</a></li>
                  <li><a href="../ci-management.html" title="CI Management">CI Management</a></li>
                  <li><a href="../licenses.html" title="Licenses">Licenses</a></li>
                  <li><a href="../team.html" title="Team">Team</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
<a href="../project-reports.html" title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                  <li><a href="../apidocs/index.html" title="Javadoc">Javadoc</a></li>
                  <li><a href="../surefire-report.html" title="Surefire Report">Surefire Report</a></li>
                  <li><a href="../clover/index.html" title="Clover">Clover</a></li>
                  <li><a href="../checkstyle.html" title="Checkstyle">Checkstyle</a></li>
              </ul>
            </li>
        </ul>
      </li>
            </ul>
            <ul class="nav pull-right">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">External Links <b class="caret"></b></a>
                <ul class="dropdown-menu">
    <li><a href="../../" title="finmath.net">finmath.net</a></li>
                </ul>
              </li>
            </ul>
        </div>
      </div>
    </header>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href=".././" id="bannerLeft"><h2>finmath lib</h2>
</a></div>
          <div class="pull-right"><a href="../.." id="bannerRight"><img src="../../artwork/logo.png"  alt="finmath.net" width="60"/></a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2021-12-31<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 6.0.0</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">finmath lib</li>
    <li><a href="../index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="../apidocs" title="API Documentation"><span class="none"></span>API Documentation</a></li>
    <li><a href="../gettingstarted.html" title="Getting Started"><span class="none"></span>Getting Started</a></li>
    <li><a href="../building.html" title="Building from Source"><span class="icon-chevron-right"></span>Building from Source</a></li>
    <li><a href="https://github.com/finmath/finmath-lib/releases" class="externalLink" title="Releases"><span class="none"></span>Releases</a></li>
    <li><a href="../releasenotes.html" title="Release Notes"><span class="none"></span>Release Notes</a></li>
    <li><a href="../codingconventions.html" title="Coding Conventions"><span class="none"></span>Coding Conventions</a></li>
   <li class="nav-header">Concepts</li>
    <li><a href="../concepts/stochasticautomaticdifferentiation" title="Stochastic Automatic Differentiation"><span class="none"></span>Stochastic Automatic Differentiation</a></li>
    <li><a href="../concepts/automatictrackingofmeasurability" title="Automatic Tracking of Measurability"><span class="none"></span>Automatic Tracking of Measurability</a></li>
    <li><a href="../concepts/separationofproductandmodel" title="Separation of Product and Model and Numerical Method"><span class="icon-chevron-down"></span>Separation of Product and Model and Numerical Method</a>
     <ul class="nav nav-list">
      <li><a href="../concepts/separationofproductandmodel/modelandproductinterfaces.html" title="Model and Product Interfaces"><span class="none"></span>Model and Product Interfaces</a></li>
      <li><a href="../concepts/separationofproductandmodel/modelandproductdescriptors.html" title="Model and Product Descriptors"><span class="none"></span>Model and Product Descriptors</a></li>
     </ul></li>
   <li class="nav-header">Usages</li>
    <li><a href="../../finmath-experiments" title="Experiments"><span class="none"></span>Experiments</a></li>
    <li><a href="../../finmath-spreadsheets/" title="Spreadsheets"><span class="none"></span>Spreadsheets</a></li>
    <li><a href="../../topics/" title="Special Topics"><span class="none"></span>Special Topics</a></li>
    <li><a href="http://christian-fries.de/finmath/applets/" class="externalLink" title="Applets"><span class="none"></span>Applets</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="www.finmath.net/finmath-lib" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script>asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
    <div id="twitter" style="border:none; margin-top: 10px">
    <a href="https://twitter.com/finmathnet" class="twitter-follow-button" data-show-count="false" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow finmathnet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<h1>Migrating a project referencing finmath-lib from 3.6.3 to 4.0.5 (or higher).</h1><section>
<h2><a name="Refactorings"></a>Refactorings</h2>
<p>Version 4 of finmath-lib has been refactored in multiple aspects. For example, classes an packages have been renamed and moved. Some inner classes became outer classes.</p>
<p>Details on the refactorings can be found in <code>docs/refactoring-3.6.x-to-4.0.0/Refactorings 3.6.x to 4.0.0.xlsx</code>.</p>
<p>If you have a project referencing version 3.6.3 of finmath lib (or another version 3) you may refactor your project to be compatible with version 4.0.5 (or another version 4) by applying the <i>refactoring script</i> in <code>docs/refactoring-3.6.x-to-4.0.0/Refactorings 3.6.3 to 4.0.1.xml</code>.</p></section><section>
<h2><a name="Refactoring_Script"></a>Refactoring Script</h2>
<p>We provide an Eclipse refactoring script in <code>docs/refactoring-3.6.x-to-4.0.0/refactorings 3.6.3 to 4.0.1.xml</code>. To apply the script, proceed as follows:</p>
<ul>

<li>Open Eclipse. It is maybe advisable to start with a clean workspace.</li>
<li>Checkout finmath lib from git and import it into Eclipse workspace.</li>
<li>Switch to branch <code>3.6.x</code> in your finmath lib project.</li>
<li>Import your project(s) that should be refactored (if the project is not under version control with its latest changes checked in, a backup might be advisable).</li>
<li>Let your project reference the finmath lib project in Eclipse:
<ul>

<li>Select Project -&gt; Properties -&gt; Java Build Path -&gt; Projects</li>
<li>Add the finmath lib project form the workspace.</li>
<li>Select the <code>Order and Export</code> tab and ensure that the finmath lib project <i>comes before</i> the Maven references and any other binary reference.</li>
<li>Not required, but safer: you may consider removing any binary reference to finmath lib, e.g. by removing it from your projects pom.xml (if it is a maven project)..</li>
</ul>
</li>
<li>Start the refactoring on the <code>finmath lib</code> project (not on your project). Your project will be refactoring accordingly automatically, since it references <code>finmath lib</code>.
<ul>

<li>On finmath lib, select Refactor -&gt; Apply Script.</li>
<li>Select <code>docs/refactoring-3.6.x-to-4.0.0/refactorings 3.6.3 to 4.0.1.xml</code>.</li>
<li>Select Finish.</li>
</ul>
</li>
</ul>
<p>After the refactoring is done you will see four error messages. These are warnings of similar type names and may be ignored.</p></section><section>
<h2><a name="Finalizing_the_Migration"></a>Finalizing the Migration</h2>
<p>After the refactoring, the finmath lib project will show errors. The reason for these errors is the refactoring of interfaces, changing return types or adding new methods, for which 3.6.x does not provide an implementation. For the finmath lib project the version 4.0.1 provides the missing implementations. For your project it may be required that you add these implementations.</p>
<p>Thus the following steps have to be performed: - Switch the finmath lib project to the version 4.0.x branch. - Add missing implementations to your project and fix all other errors. - Remove the reference to the projects and add the corresponding binary reference if required.</p>
<p>It is not guaranteed that the refactoring resolves all issues, but it may be helpful. Good luck!</p></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2021
<a href="http://finmath.net">finmath.net</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>